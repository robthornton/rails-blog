name: rails-blog

type: rails

up:
  - homebrew:
    - mysql-client@5.7:
        or:        [mysql@5.7]
        conflicts: [mysql-connector-c, mysql, mysql-client]
    # - another_package
  - ruby: 2.6.3
  - node:
      version: v10.18.0
      yarn: 1.12.3
  - bundler
  - railgun
  - database:
      bootstrap: bin/rails db:create db:schema:load
      # I'm 99% sure the bootstrap should NOT run migrations, it should just load the schema.rb.
      # Incidentally, I found out because one of your migrations blew up due to a foreign key constraint being violated.
      # I assume dev generated the contents of this section, in which case there's probably a dev PR to be made,
      # or at least some digging to do to figure out why it's including db:migrate in the bootstrap...
      migrate: bin/rails db:migrate db:test:prepare
      host: rails-blog.railgun
      user: root
      password: ''
      database: rails_blog_development

server:
  port: 48339

commands:
  console: bin/rails console
  test:
    syntax:
      argument: file
      optional: args...
    run:    bin/rails test

# These use fuzzy-matching, so you can (e.g.) `dev open app`
open:
  "My Application": https://rails-blog.myshopify.io
  #ops:
    # - https://datadog.link
    # - https://bugsnag.link
    # - https://kafka.link
